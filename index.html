<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Échelle historique de l'univers</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 2em; background: #f4f4f4; }
    input { padding: 0.5em; font-size: 1.2em; width: 200px; }
    #result { margin-top: 2em; font-size: 1.2em; }
    .bar { margin: 2em auto; width: 80%; height: 20px; background: #ddd; position: relative; }
    .marker {
      width: 10px; height: 20px; background: red;
      position: absolute; top: 0;
    }
  </style>
</head>
<body>
  <h1>Où en est-on dans l'histoire ?</h1>
  <p>Entre une date (ex : -3000, 1789, 2024...) pour voir où elle se situe entre le Big Bang et aujourd’hui.</p>
  
  <input type="number" id="yearInput" placeholder="Ex: 1945" />
  <button onclick="showPosition()">Voir</button>

  <div class="bar">
    <div class="marker" id="marker"></div>
  </div>

  <div id="result"></div>

  <script>
    const bigBang = -13800000000;
    const today = new Date().getFullYear();

    const events = {
      "-3000": "Invention de l'écriture",
      "0": "Naissance supposée de Jésus",
      "476": "Chute de l’Empire romain d’Occident",
      "1492": "Découverte de l’Amérique",
      "1789": "Révolution française",
      "1945": "Fin de la Seconde Guerre mondiale",
      "1969": "Premier pas sur la Lune",
      "1989": "Chute du mur de Berlin"
    };

    function showPosition() {
      const input = parseInt(document.getElementById("yearInput").value);
      const barWidth = document.querySelector(".bar").offsetWidth;
      const totalRange = today - bigBang;
      const position = ((input - bigBang) / totalRange) * barWidth;

      const marker = document.getElementById("marker");
      marker.style.left = Math.max(0, Math.min(position, barWidth - 10)) + "px";

      let message = `L'année ${input} représente ${(100 * (input - bigBang) / totalRange).toFixed(9)}% de l'histoire de l'univers.`;
      if (events[input]) {
        message += `<br><strong>Événement :</strong> ${events[input]}`;
      }

      document.getElementById("result").innerHTML = message;
    }
  </script>
</body>
</html>
